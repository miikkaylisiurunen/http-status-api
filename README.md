# HTTP Status API <!-- omit from toc -->

> Simulate and test unexpected scenarios by requesting any HTTP status code

## Table of contents <!-- omit from toc -->

- [Overview](#overview)
- [Usage](#usage)
- [Responses](#responses)
  - [Valid and standard status code](#valid-and-standard-status-code)
  - [Valid but non-standard status code](#valid-but-non-standard-status-code)
  - [Invalid status code](#invalid-status-code)
  - [Server error](#server-error)
- [Running locally](#running-locally)

## Overview

This is a simple API for requesting any HTTP status code within the range of 200-599, including custom ones. It responds with the exact status code you requested and its corresponding definition. If the requested status code is not an officially recognized status code, a custom description indicating that it is not part of the standard HTTP status codes is returned.

This API is useful for developers to test their applications' behavior, ensuring correct functionality by simulating various scenarios, such as unexpected responses, slow response times, edge cases, and unexpected HTTP status codes.

## Usage

To request a status code, send a request to `https://http-status-api.vercel.app/api/:status`, where `:status` is the desired HTTP status code. The API will respond with the requested status code and a JSON body, as described in the [responses](#responses) section.

To add a delay to the request, include the `delay` query parameter with the desired delay value in milliseconds. The minimum allowed delay is 500 milliseconds, and the maximum allowed delay is 10 seconds. If an invalid delay value is provided (such as a negative value, non-number, below 500 milliseconds, or exceeding 10 seconds), the API will not return an error. Instead, the following behavior will occur:

- Negative values, non-numbers, or values below 500 milliseconds will result in a delay of 0 milliseconds.
- Delays exceeding 10 seconds will be set to the maximum allowed delay of 10 seconds.

For example, to add a delay of 5 seconds to a request, use the following URL:

```
https://http-status-api.vercel.app/api/200?delay=5000
```

## Responses

The API responds with the requested status code alongside a JSON object containing the following properties:

- `status` (number): The requested HTTP status code, unless it is outside the range of 200-599.
- `message` (string): The definition of the requested HTTP status code.
- `success` (boolean): A flag indicating whether the request was successful or not.
- `standard` (boolean): Indicates if the requested code is a standard HTTP status code.

When the requested status code is within the range of 200-599, the API returns a response with `success` set to `true`, along with the status code and its associated `message`. However, if the requested HTTP status code is outside of the range, the API returns a custom message and sets `success` to `false`.

**Note:** The API may sometimes return a `message` property prefixed with two underscores (`__`). These messages are not standard HTTP status messages directly related to the requested status code. Instead, they are custom messages generated by the API, which provide additional information or indicate a specific scenario. This prefix is used to prevent conflicts with any actual status code message.

### Valid and standard status code

When a valid status code within the range of 200-599 is requested, the API will respond with the requested status code and the following JSON object:

```js
// PATH: /api/404
{
  "status": 404,
  "message": "NOT_FOUND",
  "success": true,
  "standard": true
}
```

The `message` property contains the standard HTTP status message for the requested status code.

### Valid but non-standard status code

When a requested status code falls within the valid range but is not officially supported, such as 255, the API responds with the requested status code and the following JSON object:

```js
// PATH: /api/255
{
  "status": 255,
  "message": "__NONSTANDARD_STATUS_CODE",
  "success": true,
  "standard": false
}
```

The `message` property contains a custom message indicating that the requested status code is not officially supported.

### Invalid status code

If an invalid status code is requested, such as 1000 or abc, the API will respond with a `400 Bad Request` error and the following JSON object:

```js
// PATH: /api/1000 or /api/abc
{
  "status": 400,
  "message": "__INVALID_STATUS_CODE",
  "success": false,
  "standard": false
}
```

The `message` property contains a custom message indicating that the requested status code is invalid.

### Server error

If there is an error while processing the request, the API will respond with a `500 Internal Server Error` and the following JSON object:

```js
{
  "status": 500,
  "message": "__SERVER_ERROR",
  "success": false,
  "standard": false
}
```

The `message` property contains a custom message indicating that there was a server error while processing the request.

## Running locally

To run this project locally, follow these steps:

1. Clone the repository:
   ```
   git clone https://github.com/miikkaylisiurunen/http-status-api.git
   ```
2. Install dependencies:
   ```
   npm install
   ```
3. Start the development server:
   ```
   npm run dev
   ```

You can now start making requests to the API at `http://localhost:3000/api/:status`, where `:status` represents the desired HTTP status code. To run the API on a different port, modify the `dev` script to include a different port number. For example, change the script to `next dev -p 5555` to run the API on port `5555`.
